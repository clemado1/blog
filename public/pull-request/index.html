<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge" >
        <meta http-equiv="content-type" content="text/html; charset=utf-8">

        <!-- SEO -->
        
        <title> 프로젝트 기여 방법 &#x2F; Pull Request |  </title>
        

        <!-- Enable responsiveness on mobile devices-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" >

        <!-- js -->
        <script src="gallant-goldwasser-cea001.netlify.app/theme_selector.js"></script>
        <script src="https://kit.fontawesome.com/e307e34624.js" crossorigin="anonymous"></script>

        <!--  css -->
        <link id="themeCSS" rel="stylesheet"
                            href="gallant-goldwasser-cea001.netlify.app/default.css"
                            />

        <!-- fonts -->
        <!-- preload  -->
        <link rel="preload" href="https://fonts.googleapis.com/css?family=Montserrat:200,300,300i,400,500,500i,600,700,800,900|Raleway" as="style">
        <!-- load -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:200,300,300i,400,500,500i,600,700,800,900|Raleway">
        
    </head>

    <body onload="main();">
      
<input type="checkbox" id="openSidebarMenu" class="openSidebarMenu">
<label class="menu cross menu--1" for="openSidebarMenu">
    <svg viewBox="0 0 75 75" xmlns="https://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="30" />
        <path class="line--1" d="M0 40h62c13 0 6 28-4 18L35 35" />
        <path class="line--2" d="M0 50h70" />
        <path class="line--3" d="M0 60h62c13 0 6-28-4-18L35 65" />
    </svg>
</label>

<div id="sidebarMenu">
    <div class="menu_wrapper">
        <ul class="sidebarMenuInner">
            <li>
                <a href="gallant-goldwasser-cea001.netlify.app" ></a>
                <div class="menu_div" ></div>
            </li>
            
            



<li >
    <a href="https:&#x2F;&#x2F;github.com&#x2F;clemado1" target="_blank">clemado1</a>
    <i class="fab fa-github"></i>
</li>



<li >
    <a href="https:&#x2F;&#x2F;twitter.com&#x2F;clemado1" target="_blank">@clemado1</a>
    <i class="fab fa-twitter"></i>
</li>



<li >
    <a href="mailto:clemado1@gmail.com" target="_blank">contact</a>
    <i class="fas fa-envelope"></i>
</li>



<li >
    <a href="https:&#x2F;&#x2F;instagram.com&#x2F;clemdis" target="_blank">clemdis</a>
    <i class="fab fa-instagram"></i>
</li>





        </ul>
    </div>
</div>



      
<nav id="overlord" class="overlord" >
  
  
<figure class="mini_logo ">
    <a href="gallant-goldwasser-cea001.netlify.app" style="background-image: url(/img/profile.png)"></a>
</figure>
<h5>
    <a href="gallant-goldwasser-cea001.netlify.app"></a>
</h5>

  



</nav>

<section class="post_container">
  <article>
    
      <h1 class="article_title"><a href="gallant-goldwasser-cea001.netlify.app&#x2F;pull-request&#x2F;" id="article_link">프로젝트 기여 방법 &#x2F; Pull Request</a></h1>
      
<ul class="frontmatter frontmatter_page" id="frontmatter">
    <li>
        <time class="article_time" datetime="2020-11-27">November 27, 2020</time>
    </li>
    <span class="dotDivider"></span>
    <li> 912 words </li>
    <span class="dotDivider" ></span>
    <li> 5 min </li>
</ul>

      <h1 id="hilheuggeri">읽을거리</h1>
<ul>
<li><a href="https://blog.banksalad.com/tech/banksalad-code-review-culture/">코드 리뷰 in 뱅크샐러드 개발 문화</a></li>
<li><a href="https://engineering.linecorp.com/ko/blog/effective-codereview/">효과적인 코드 리뷰를 위해서 - LINE</a></li>
<li><a href="https://medium.com/styleshare/%EC%9A%B0%EB%A6%AC%EB%8A%94-%EC%BD%94%EB%93%9C-%EB%A6%AC%EB%B7%B0%EB%A5%BC-%EC%9E%98%ED%95%98%EA%B3%A0-%EC%9E%88%EC%9D%84%EA%B9%8C%EC%9A%94-201c12d04d0d">우리는 코드 리뷰를 잘하고 있을까요?</a></li>
</ul>
<hr />
<h1 id="peurojjeteu-gihye-bbanbbeo-pull-request">프로젝트 기여 방법 / Pull Request</h1>
<p><code>Pull Request</code>는 프로젝트의 규모가 크고 복잡하거나 코드 리뷰가 필수일 때, 참여자 수가 많을 때 등등 여러가지 상황에서 사용한다.</p>
<h2 id="pull-request">Pull Request</h2>
<ul>
<li><code>Pull Request</code>를 사용하여 변경한 사항을 공개적으로 알릴 수 있다.</li>
<li>프로젝트 멤버와 변경 사항을 검토하고 후속 작업을 논의할 수 있다.</li>
<li>변경한 내역에 재수정이 필요할 경우 검토자는 기여자에게 수정 요청을 보낼 수 있다.</li>
<li>플랫폼에 따라 <code>Pull Request</code> 시 코드 분석, 테스트 등을 실행할 수 있다.</li>
<li>모든 검토가 끝나면 <code>upstream</code>에 <code>merge</code> 한다.
<blockquote>
<p>upstream: fork한 repo가 아닌 가장 상류 repo</p>
</blockquote>
</li>
</ul>
<h3 id="pull-request-jjanjjeo">Pull Request 장점</h3>
<ul>
<li>요청을 보내고 <code>upstream</code>에 <code>merge</code> 되기 전까지 <code>upstream</code>의 소스에 영향을 주지 않는다.</li>
<li>코드 리뷰가 용이하다.</li>
<li>다른 멤버가 작성한 <code>Pull Request</code>를 검토하면서 프로젝트 이해도를 높일 수 있다.</li>
<li>코드 충돌을 줄일 수 있다.</li>
</ul>
<h2 id="ssisseu">실습</h2>
<ol>
<li>
<p><code>upstream</code>에 해당하는 <code>repo</code>를 fork 한다. 이후 Your Repository로 이동하면 fork한 <code>repo</code>를 확인할 수 있다.<br />
<img src="https://user-images.githubusercontent.com/41099541/100420195-5b1b2f00-30c9-11eb-993a-2ac32f1ca390.png" alt="image" /></p>
</li>
<li>
<p>fork한 <code>repo</code>를 <code>clone</code>한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> git clone https://github.com/myname/project.git &amp;&amp; </span><span style="color:#96b5b4;">cd</span><span> project
</span><span style="color:#bf616a;">$</span><span> git remote</span><span style="color:#bf616a;"> -v </span><span style="color:#65737e;"># origin이 본인 repo로 잘 설정되었는지 확인
</span><span style="color:#65737e;"># main repo를 upstream으로 원격 저장소 저장
</span><span style="color:#bf616a;">$</span><span> git remote add upstream https://github.com/upstream/project.git
</span></code></pre>
<p><strong>username과 user email이 설정되어 있지 않다면 반드시 설정해준다.</strong> GitHub 계정과 일치해야 자동으로 연결 가능한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 확인
</span><span style="color:#bf616a;">$</span><span> git config user.email
</span><span style="color:#bf616a;">$</span><span> git config user.name
</span><span>
</span><span style="color:#65737e;"># 변경
</span><span style="color:#bf616a;">$</span><span> git config user.email &quot;</span><span style="color:#a3be8c;">clemado1@email.com</span><span>&quot;
</span><span style="color:#bf616a;">$</span><span> git config user.name &quot;</span><span style="color:#a3be8c;">clemado1</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># 해당 설정을 전역으로 사용하고 싶은 경우 --global 옵션을 붙여주면 됩니다.
</span><span style="color:#bf616a;">$</span><span> git config</span><span style="color:#bf616a;"> --global</span><span> user.email &quot;</span><span style="color:#a3be8c;">clemado1@email.com</span><span>&quot;
</span><span style="color:#bf616a;">$</span><span> git config</span><span style="color:#bf616a;"> --global</span><span> user.name &quot;</span><span style="color:#a3be8c;">clemado1</span><span>&quot;
</span></code></pre>
</li>
<li>
<p>새로운 브랜치를 만든 다음 파일을 수정한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># study 브랜치 생성 및 이동
</span><span style="color:#bf616a;">$</span><span> git checkout</span><span style="color:#bf616a;"> -b</span><span> clemado1/study </span><span style="color:#65737e;"># git 2.23.0 미만
</span><span style="color:#bf616a;">$</span><span> git switch</span><span style="color:#bf616a;"> -c</span><span> clemado1/study </span><span style="color:#65737e;"># git 2.23.0 이상
</span></code></pre>
<blockquote>
<p>Pull Request 시 branch는 각 특징을 살려 만드는 것이 좋다. 이를 topic 혹은 feature 브랜치라고 한다. 기능 추가, 버그 수정같은 단위 작업을 위해 생성한다. 토픽 브랜치에서 작업이 완료되면 통합 브랜치에 병합한다.</p>
</blockquote>
</li>
<li>
<p>수정 후 <code>origin</code>에 <code>push</code>한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> git add README.md
</span><span style="color:#bf616a;">$</span><span> git commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">study: clemado1 참가자 명단 추가</span><span>&quot;
</span><span style="color:#65737e;"># git push {remote 종류} {브랜치명}
</span><span style="color:#bf616a;">$</span><span> git push origin clemado1/study
</span></code></pre>
</li>
<li>
<p>GitHub에 로그인하여 Pull Request를 생성한다. 내가 작업한 브랜치가 맞는지, 충돌이 발생하지 않는지 확인 후 내용을 적고 제출한다.</p>
<ul>
<li>
<p>repo에서 Pull Request 등록
<img src="https://user-images.githubusercontent.com/41099541/100424265-ac7aec80-30d0-11eb-8d63-07e6e67ee63e.png" alt="image" /></p>
</li>
<li>
<p>Pull Request 내용 작성
<img src="https://user-images.githubusercontent.com/41099541/100424572-1dba9f80-30d1-11eb-94a5-12acd11e8e66.png" alt="image" /></p>
</li>
</ul>
</li>
<li>
<p>Pull Request 완료</p>
<p><img src="https://user-images.githubusercontent.com/41099541/100424815-7853fb80-30d1-11eb-8f93-37710c12af0b.png" alt="image" /></p>
<p>PR을 올린 다음에는 코드 리뷰를 받고 수정 후 마지막으로 <code>upstream</code>의 <code>master</code> 브랜치에 병합되면 최종 종료.</p>
<p><code>merge</code>가 끝난 뒤 소스를 최신화 하고 작업한 브랜치를 삭제하려면 아래 명령어를 실행한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># upstream 소스로 최신화
</span><span style="color:#bf616a;">$</span><span> git pull upstream master
</span><span style="color:#65737e;"># 브랜치 삭제
</span><span style="color:#bf616a;">$</span><span> git branch</span><span style="color:#bf616a;"> -d</span><span> clemado1/study
</span></code></pre>
</li>
</ol>
<h3 id="rebase">Rebase</h3>
<p>위 내용만으로 진행이 된다면 딱히 어려울 이유가 없지만 <code>Pull Request</code> (이하 PR) 전/후로 충돌이 발생한다면 수정하기가 까다롭다. PR한 코드에 충돌이 있다면 대부분 Requester가 <code>commit</code>을 <code>rebase</code> 해주어야 한다. 충돌이 발생하는 이유는 내가 변경한 파일에 새로운 업데이트 사항이 생겼기 때문이다.</p>
<p>사람이 많고 업데이트가 잦다면 내가 수정하던 파일에서 누군가의 PR이 승인되어 <code>upstream</code>이 갱신될 수 있고 내가 올린 PR에 검증할 사항이 많아서 승인이 늦어진다면 그 사이 <code>upstream</code>의 내용이 변경될 수 있다. 이러한 상황에서는 로컬 저장소를 다시 최신화해야한다.</p>
<ul>
<li>충돌로 인해 Merge pull request가 활성화되어 있지 않은 상황
<img src="https://user-images.githubusercontent.com/41099541/100559537-5f785f80-32f6-11eb-9885-38b357e966dd.png" alt="image" /></li>
</ul>
<ol>
<li>
<p>reset<br />
<code>commit</code> 내용이 복잡하지 않아서 <code>commit</code>을 취소하고 다시 진행하려면 <code>reset</code> 명령어만으로 간단하게 해결할 수 있다. 이 때 <code>--soft</code> 옵션은 현재 로컬 파일의 변경 사항을 <code>staged</code>로 유지하고, <code>--hard</code> 옵션은 변경한 내용까지 모두 초기화한다. 기본 옵션은 <code>--mixed</code>로, 현재 로컬 파일의 변경 사항을 유지하지만 <code>unstaged</code>로 격하한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 가장 최신 commit 취소
</span><span style="color:#bf616a;">$</span><span> git reset</span><span style="color:#bf616a;"> --soft</span><span> HEAD^
</span><span style="color:#65737e;"># 3개의 commit 취소
</span><span style="color:#bf616a;">$</span><span> git reset</span><span style="color:#bf616a;"> --soft</span><span> HEAD</span><span style="color:#bf616a;">~</span><span>3
</span><span>
</span><span style="color:#65737e;"># git add &amp; git commit 새로 진행
</span><span style="color:#65737e;"># 충돌 수정 시 강제 push 필요
</span><span style="color:#bf616a;">$</span><span> git push</span><span style="color:#bf616a;"> -f</span><span> origin clemado1/study
</span></code></pre>
</li>
<li>
<p>rebase<br />
<code>rebase</code>는 <code>git</code>에서 다소 복잡하고 어려운 문법으로, 여기에서는 PR 충돌을 해결하는 분량으로만 기술한다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># upstream master 브랜치의 최신 소스 가져오기
</span><span style="color:#bf616a;">$</span><span> git fetch upstream master </span><span style="color:#65737e;"># upstream/master 로 rebase
</span><span style="color:#bf616a;">$</span><span> git rebase upstream/master
</span><span>
</span><span style="color:#65737e;"># 충돌 확인
</span><span style="color:#bf616a;">$</span><span> git status
</span><span style="color:#bf616a;">$</span><span> git diff
</span><span>
</span><span style="color:#65737e;"># 충돌 수정 작업 후 rebase 풀기
</span><span style="color:#bf616a;">$</span><span> git add ENTRY.md
</span><span style="color:#bf616a;">$</span><span> git rebase</span><span style="color:#bf616a;"> --continue
</span><span>
</span><span style="color:#65737e;"># 충돌 수정 시 강제 push 필요
</span><span style="color:#bf616a;">$</span><span> git push</span><span style="color:#bf616a;"> -f</span><span> origin clemado1/study
</span></code></pre>
<p>이 때 주의할 점은 <code>rebase</code>는 기존 <code>commit</code>을 유지하고 수정하는 것이 아니라 새로운 <code>commit</code>을 생산하기 때문에 이미 병합되어 있는 <code>commit</code>은 건드리지 않도록 한다.</p>
<p>또한 소스 최신화 시 <code>pull</code>이 <code>fetch</code>와 <code>merge</code>를 합쳐놓은 명령어이기 때문에 <code>merge</code> 하기 전 검토를 하고 싶을 때도 아래와 같이 사용할 수 있다.</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> git fetch upstream master
</span><span style="color:#bf616a;">$</span><span> git rebase upstream/master
</span></code></pre>
<p><code>rebase</code>의 자세한 내용은 <a href="https://git-scm.com/book/ko/v2/Git-%EB%B8%8C%EB%9E%9C%EC%B9%98-Rebase-%ED%95%98%EA%B8%B0">참조</a></p>
</li>
</ol>
<ul>
<li>충돌 해결 후 <code>Merge pull request</code>가 활성화된 상황.
<img src="https://user-images.githubusercontent.com/41099541/100570867-1c79b480-3315-11eb-82cf-4310a006d97b.png" alt="image" /></li>
</ul>
<hr />
<h1 id="camgo">참고</h1>
<ul>
<li><a href="https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/about-pull-requests">About pull requests - GitHub Docs</a></li>
<li><a href="https://backlog.com/git-tutorial/kr/stepup/stepup1_2.html">브랜치 만들기 - 누구나 쉽게 이해할 수 있는 Git 입문</a></li>
</ul>

      
  </article>
</section>


       

      <footer>
        
          
          
<figure class="mini_logo ">
    <a href="gallant-goldwasser-cea001.netlify.app" style="background-image: url(/img/profile.png)"></a>
</figure>
<h5>
    <a href="gallant-goldwasser-cea001.netlify.app"></a>
</h5>

          
<ul class="social_list foot_list">
    



<li class="button extra_small font_faint">
    <a href="https:&#x2F;&#x2F;github.com&#x2F;clemado1" target="_blank">clemado1</a>
    <i class="fab fa-github"></i>
</li>



<li class="button extra_small font_faint">
    <a href="https:&#x2F;&#x2F;twitter.com&#x2F;clemado1" target="_blank">@clemado1</a>
    <i class="fab fa-twitter"></i>
</li>



<li class="button extra_small font_faint">
    <a href="mailto:clemado1@gmail.com" target="_blank">contact</a>
    <i class="fas fa-envelope"></i>
</li>



<li class="button extra_small font_faint">
    <a href="https:&#x2F;&#x2F;instagram.com&#x2F;clemdis" target="_blank">clemdis</a>
    <i class="fab fa-instagram"></i>
</li>





</ul>

          
<select id="theme_selector" size=1>
    <option value="default" selected>default</option>
    
    <option value="my-awesome-theme">my-awesome-theme</option>
    
</select>

        
      </footer>
    </body>
</html>
